<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<h1>Teste</h1>
<canvas id="gc" width="800" height="800" style="border:1px solid #000000;"></canvas>
</body>
</html>





<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
/*	var gc = document.getElementById("gc").getContext("2d");
	gc.font = '30px Arial';
	
	//gs=tc=20;
	gs=10; // largura da cobra
	tc=80; //tamanho do grid width/10=80
	ax=ay=15;

	//cobra1
	px=py=10;
	xv=yv=0;
	trail=[];
	tail = 5;




	var socket = io();	
	
	socket.on('newPositions',function(data){
		gc.clearRect(0,0,800,800);
		for(var i=0 ; i< data.length; i++){
			gc.fillStyle="red";			
			gc.fillRect(data[i].x*gs,data[i].y*gs,gs-2,gs-2);
			
			for(var j=0;j<data[i].trail.length;j++) {
				gc.fillRect(data[i].trail[j].x*gs,data[i].trail[j].y*gs,gs-2,gs-2);			
			}
			console.log(data[i].trail);
		}				
			
	})

	document.onkeydown = function(event){
		if(event.keyCode ===68) //d
			socket.emit('keyPress',{inputId:'right',state:true});
		if(event.keyCode ===83) //s
			socket.emit('keyPress',{inputId:'down',state:true});
		if(event.keyCode ===65) //a
			socket.emit('keyPress',{inputId:'left',state:true});
		if(event.keyCode ===87) //w
			socket.emit('keyPress',{inputId:'up',state:true});		
	}

	/*document.onkeyup = function(event){
		if(event.keyCode ===68) //d
			socket.emit('keyPress',{inputId:'right',state:false});
		if(event.keyCode ===83) //s
			socket.emit('keyPress',{inputId:'down',state:false});
		if(event.keyCode ===65) //a
			socket.emit('keyPress',{inputId:'left',state:false});
		if(event.keyCode ===87) //w
			socket.emit('keyPress',{inputId:'up',state:false})
	}*/

/*
window.onload=function() {
	canv=document.getElementById("gc");
	ctx=canv.getContext("2d");
	document.addEventListener("keydown",keyPush);
	setInterval(game,2000/15);
}

//gs=tc=20;
gs=10; // largura da cobra
tc=40; //tamanho do grid
ax=ay=15;

//cobra1
px=py=10;
xv=yv=0;
trail=[];
tail = 5;

function game() {
	//movimento cobra1
	px+=xv;
	py+=yv;
	if(px<0) {
		px= tc-1;
	}
	if(px>tc-1) {
		px= 0;
	}
	if(py<0) {
		py= tc-1;
	}
	if(py>tc-1) {
		py= 0;
	}

	ctx.fillStyle="black";	
	ctx.fillRect(0,0,canv.width,canv.height);

	//desenha cobra
	ctx.fillStyle="lime";
	for(var i=0;i<trail.length;i++) {
		ctx.fillRect(trail[i].x*gs,trail[i].y*gs,gs-2,gs-2);
		if(trail[i].x==px && trail[i].y==py) {
			tail = 5;
		}
		if(trail[i].x==c2px && trail[i].y==c2py) {
			c2tail = 5;
		}
	}
	trail.push({x:px,y:py});
	while(trail.length>tail) {
	trail.shift();
	}
	
	//captura fruta cobra 1
	if(ax==px && ay==py) {
		tail++;
		ax=Math.floor(Math.random()*tc);
		ay=Math.floor(Math.random()*tc);
	}	

	//desenha fruta
	ctx.fillStyle="red";
	ctx.fillRect(ax*gs,ay*gs,gs-2,gs-2);

	//debug
	document.getElementById("debug").innerHTML = "Player 1: " + (tail-5);	
	//document.getElementById("debug2").innerHTML = "Player 2: " + (c2tail-5);	

}
function keyPush(evt) {
	switch(evt.keyCode) {
		case 37:
			if(xv!=1){				
				xv=-1;yv=0;				
			}
			break;
		case 38:
			if(yv!=1){
				xv=0;yv=-1;
			}
			break;
		case 39:
			if(xv!=-1){
				xv=1;yv=0;
			}
			break;
		case 40:
			if(yv!=-1){
				xv=0;yv=1;
			}			
			break;
	}
}
*/
</script>
